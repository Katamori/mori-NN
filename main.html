<!DOCTYPE html>
<html>
<head>
<title>mori-NN pre-pre-alpha</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
#drawboard {
    width: 640px;
    height: 100%;
    background-color:darkgrey;
}

#stats {
    display: inline-block;
}
</style>

</head>

<body>
    <h1>mori-NN pre-alpha</h1>

    <div id="drawboard">
    </div>

    <div id="stats">
        <p id="err">err</p>
        <p id="val">val</p>
    </div>
</body>

<!-- drawing & stuff -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script>

<script src="./raphael-connection.js"></script>
<script src="./raphael-init.js"></script>

<!-- the heart, mind and soul of it all: SynapticJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/synaptic/1.1.1/synaptic.js"></script>

<!-- custom Synaptic scripts -->
<script src="./synaptic-init.js"></script>
<script src="./synaptic-perceptron.js"></script>
<script src="./synaptic-utils.js"></script>

<!-- mori-NN code -->
<!--
<script src="./mori-nn-canvas.js"></script>
-->
<!-- desired training set -->
<script src="./training-sets/xor-manual.js"></script>

<script>

//local utilities
var errtxt = document.getElementById("err");
var status = document.getElementById("val");

//settings
var threshold = 0.0000000001

//initialization
var myPerceptron = new Perceptron(2,3,1);
var myTrainer = new Trainer(myPerceptron);

//draw model
RaphaelInit(r, myPerceptron)


//train: endless repeat until threshold reached
setInterval(function(){

    if(myTrainer.train(trainingSet).error > threshold){
        errtxt.innerHTML = "error: "+myTrainer.train(trainingSet).error+"<br>";
    }else{
        errtxt.innerHTML = "ended at "+myTrainer.train(trainingSet).error+"<br>";
    }

    document.getElementById("val").innerHTML = utils_printStatus(myPerceptron);

}, 5)

</script>
</html>